7장. 감정 분석 - I Am Happy

감정 분석 혹은 감정 생성은 NLP의 작업 중 하나이다. 그것은 문자 시퀀스 뒤에 감정을 결정하는 과정으로 정의된다. 그것은 스피커(speaker) 혹은 사람이 본문그대로 행복하거나 슬픈 분위기에 있는지 여부를 확인하는 데, 또는 중간 표현을 나타낼 수 있다.(확인)

7장에서는 다음 내용을 살펴본다.

-감정 분석 소개
-NER를 사용한 감정 분석
-기계 학습을 이용한 감정 분석
-NER 시스템의 평가

Page 134.

감정 분석 소개

감정 분석은 자연 언어에서 수행되는 작업으로 정의할 수 있다. 여기에서, 계산은 긍정적, 부정적 혹은 중립적인 감정의 표현 여부를 결정하기 위해 자연 언어로 표현된 문장 혹은 단어에서 수행된다. 표현되는 텍스트에 대한 정보를 제공하기 때문에 감정 분석은 주관적인 작업이다. 감정 분석은  두 종류의 분류 문제로 정의될 수 있다.-이진 분류(긍정적 혹은 부정적) 및 멀티 클래스 분류(긍정적, 부정적 혹은 중립적) 감정 분석은 텍스트 감정 분석이라 한다. 텍스트 뒤에 감정(sentiments) 혹은 감정(emotions)을 결정하는 텍스트 마이닝 접근 방법이다. 주제 마이닝과 감정 분석을 결합 할 때, 주제-감정 분석이라 한다. 감정 분석은 사전(lexicon)을 사용하여 수행될 수 있다. 사전은 특정 도메인 혹은 일반 목적의 성격이될 수 있다. 사전은 긍정적 표현, 부정적 표현, 중립식 표현과 불용어 목록을 포함할지도 모른다. 테스트 문장이 나타날 때, 간단한 조회 작업은 사전을 통해 수행할 수 있다.

2016.10.05

단어 목록에 대한 하나의 예제 - Affective Norms for English Words (ANEW). 그것은 플로리다 대학(the University of Florida)에서 발견되는 영어 단어의 목록이다. 그것은 지배, 원자가 및 각성을 위한 1034 단어로 구성된다. 그것은 브래들리(Bradley)와 랭(Lang)에 의해 형성됐다. 이 단어 목록은 연구 목적(research purposes)이 아니라 학술 목적(academic purposes)으로 작성됐다. 다른 변종은 DANEW(네덜란드 ANEW) 및 SSPANEW(스페인어 ANEW) 이다.

AFINN은 2477 단어로 구성된다(이전 1468 단어). 이 단어 목록은 Finn Arup Nielson에 의해 형성됐다. 이 단어 목록을 작성하는 주요 목적은 트위터 텍스트에 대한 심리 분석을 수행하는 것이다. -5부터 +5까지 범위의 가수 값(valence value)은 각 워드에 할당된다.

Balance Affective 단어 목록은 277 영어 단어로 구성된다. 원자가 코드는 1에서 4의 범위이다. 1은 긍정적을 의미하고, 2는 부정적을 의미하고, 3은 걱정을 의미하고, 4는 중립을 의미한다.

Berlin Affective Word List(BAWL)는 독일어로 2,200 단어로 구성된다. BAWL의 또 다른 버전은 단어에 대한 추가 각성으로 구성된 Berlin Affective Word List Reloaded(BAWL-R)이다.

Bilingual Finnish Affective Norms는 210 영국 영어 뿐만아니라 핀란드어 명사를 포함한다. 금기 단어도 포함한다.

Compass DeRose Guide to Emotion Words는 영어에서 감정적인 단어로 구성된다. 이것은 Steve J. DeRose에 의해 형성됐다. 단어는 구분되었으나, 더 이상 가수와 각성은 없다.

Page 135.

Dictionary of Affect in Language(DAL)은 감정 분석에 사용할 수 있는 감정적인 단어를 포함한다. 그것은 Cynthia M. Whissell에 의해 형성됐다. 그래서 그것은 또한 Whissell's Dictionary of Affect in Language(WDAL)로 지칭된다.

General Inquirer는 많은 사전으로 구성된다. 이것에서는, 긍정 목록은 1915 단어를 포함하고, 부정 목록은 2291 단어를 포함한다.

Hu-Liu opinion Lexicon(HL)은 6800 단어의 목록을 포함한다(긍정적 및 부정적).

Leipzig Affective Norms for German(LANG)는 독일에서 1000 명사로 구성된 목록이며, 원자가, 구체성과 각성을 기반으로 등급을 가진다.

Loughran and McDonald Financial Sentiment Dictionaries은 Tim Loughran과 Bill McDonald에 의해 생성됐다. 이 사전은 긍정, 부정, 혹은 모달 단어(modal words)인 금융 문서에 대한 단어로 구성된다.

무어는 지배, 각성 및 원자가 관련 네덜란드어의 단어 목록으로 구성된다. 

NRC Emotion Lexicon는  Saif M. Mohammad에 의해 Amazon Mechanical Turk를 통해 개발된 단어의 목록으로 구성된다.

OpinionFinder의 Subjectivity Lexicon은 8221 단어 목록을 포함한다(긍정적 혹은 부정적).

SentiSense는 14 감정 카테고리에 따라 2190 synset과 5496 단어를 포함한다. Warringer는 지배, 각성 그리고 원자가 관련된 Amazon Mechanical Turk에서 수집된 영어로 13,915 단어를 포함한다.

labMT는 10,000 단어로 구성된 단어 목록이다.

영화 리뷰에 대한 감정 분석을 수행하는 NLTK에서 다음 예제를 살펴보자.

<소스>

Page 136.

<소스>

여기서, 그것은 정보의 기능이 문서에서 존재하지 여부를 체크한다.

의미론적 분석의 또 다른 예제를 살펴보자. 먼저, 텍스트의 전처리를 수행한다. 이러한 점에서, 개별 문장은 주어진 텍스트로 식별된다. 이 후, 토큰은 문장에서 식별된다. 각 토큰은  세 개의 엔티티, 즉, 단어, 표제어(lemma) 및 태그를 포함한다.

Page 137.

텍스트의 전처리에 대한 NLTK의 다음 코드를 살펴보자.

<소스>

생성된 표제어는 워드 형태로 동일하다. 태그는 POS 태그이다. 단어, lemma 및 POS 태그인 각 토큰에 대한 세 개의 튜플을 생성하는 다음 코드를 고려한다.

<소스>

긍정적 및 부정적 표현으로 이루어진 두 종류의 사전을 생성할 수 있다. 사전을 사용하여 처리되는 텍스트에 태그를 수행할 수 있다.

Page 138.

사전을 사용한 태그에 대해 다음 NLTK 코드를 살펴보자. 

<소스>

Page 139.

<소스>

여기서, 전처리된 텍스트의 단어는 사전의 도움으로 긍정적 혹은 부정적 같은 태그이다.

긍정적 표현과 부정적 표현의 수를 계산하는데 사용되는 NLTK에서 다음 코드를 살펴보자.

<소스>

nltk.sentiment.util 모듈은 Hu-Liu lexicon를 사용하여 감정 분석을 수행하는 NLTK에서 사용한다. 이 모듈은 어휘(lexicon)의 도움으로, 긍정적, 부정적 및 중립적 표현의 수를 카운트하고 이 후 텍스트가 긍정적, 부정적 혹은 중립적 감정으로 이루어져 있는지 다수 카운트에 기초하여 결정한다. 어휘에서 사용할 수 없는 단어는 중립적인 것으로 간주된다.

NER를 사용한 감정 분석

NER는 명명된 엔티티를 발견하고 다른 개체명 클래스로 명명된 개체를 분류하는 과정이다. NER은 규칙 기반 접근(Rule-based approach), List look up approach, and  Statistical approaches(Hidden Markov Model, Maximum Entropy Markov Model, Support Vector Machine, Conditional Random Fields, and Decision Trees) 같은 다양한 기술을 사용하여 수행할 수 있다.

Page 140.

명명된 개체는 리스트에서 식별되는 경우, 그 때 제거되거나 문장으로부터 필터될 수 있다. 마찬가지로, 불용어도 제거할 수 있다. 명명된 개체는 감정 분석에 기여하지 않는 단어이기 때문에 이제 심리 분석은 나머지 단어에 대해 수행될 수 있다.

2016.10.10

기계 학습을 이용하여 감정 분석

NLTK에서 nltk.sentiment.sentiment_analyzer 모듈은 감정 분석을 수행하기 위해 사용한다. 기계 학습 기술에 기초한다.

NLTK에서  nltk.sentiment.sentiment_analyzer 모듈의 다음 코드를 살펴보자.

<소스>

텍스트에서 모든 단어(중복)를 반환하는 다음 코드를 살펴본다.

<소스>

Page 141.

<소스>

텍스트에 특징 추출 기능(feature extraction function)을 적용하는 다음 코드를 살펴본다.

<소스>

단어의 기능을 반환하는 다음 코드를 살펴본다.

<소스>

다음 코드는 바이그램 기능을 반환한다.

<소스>

가능한 기능 세트를 사용하여 해당 인스턴스를 분류하기 위해 사용할 수 있는 다음 코드를 살펴보자.

<소스>

텍스트에서 기능 추출을 위해 사용할 수 있는 다음 코드를 살펴보자.

<소스>

Page 142.

훈련 파일에 대한 훈련을 수행하는 데 사용할 수 있는 다음 코드를 살펴보자. Save_classifier는 파일에 출력을 저장하는 데 사용된다.

<소스>

테스트 데이터를 이용하여 분류기의 테스트와 성능 평가를 수행할 수 있는 다음 코드를 살펴 보자.

<소스>

Page 143.

<소스>

트위터는 tweets라는 메시지를 생성하는데 사용되는 가장 인기있는 블로그 서비스의 하나로 간주될 수 있다. tweets는 긍정적 혹은 부정적 혹은 중립 감정과 관련된 단어를 포함한다.

감정 분석을 수행하기 위해, 나이브 베이즈 분류기, 최대 엔트로피 분류기, 서포트 벡터 머신 분류기 같은 기계 학습 분류기, 기계 학습 분류, 통계 분류기 혹은 자동 분류기를 사용할 수 있다.

분류를 위한 훈련 데이터를 필요로 하기 때문에 이 기계 학습 분류기 혹은 자동 분류기는 감독 분류를 수행하는 데 사용된다.

특징 추출에 대한 NLTK에 다음 코드를 살펴보자.

<소스>

Page 144.

<소스>

Page 145.

<소스>

분류기의 훈련 동안, 기계 학습 알고리즘에 입력은 레이블 및 특징이다. 입력이 특징 추출기(feature extractor)에 주어질 때 기능은 특징 추출기로부터 얻어진다. 예측 중에 라벨은 분류기 모델의 출력으로 제공되고 분류 모델의 입력은 특징 추출기를 사용하여 얻어진 기능이다. 같은 과정을 설명하는 다이어그램을 살펴보자.

<그림>

Page 146.

이제, 나이브 베이즈 분류기(Naive Bayes Classifier)를 사용하여 감정 분석을 수행하는 데 사용할 수있는 다음 코드를 살펴 보자.

<소스>

최대 엔트로피를 사용한 감정 분석의 다음 코드를 살펴 보자.

<소스>

NER 시스템의 평가

성능 측정 혹은 평가는 NER 시스템의 성능을 표시하는 데 도움이 된다. NER 태거의 결과는 response와 answer key로 인간의 해석으로 정의할 수 있다. 그래서, 다음과 같은 정의를 제공할 것이다.

Correct: 응답은 정확히 응답 키와 동일한 경우
Incorrect: 응답이 응답 키와 동일하지 않으면
Missing: 응답 키는 태그가 발견되지만 응답이 태그되지 않은 경우
Spurious: 응답이 태그를 발견하지만, 응답 키는 태그되지 않은 경우

NER 기반 시스템의 성능은 다음과 같은 파라미터를 이용하여 판단할 수 있다.

-Precision (P): P=Correct/(Correct+Incorrect+Missing)
-Recall (R): R=Correct/(Correct+Incorrect+Spurious)
-F-Measure: F-Measure = (2*P*R)/(P+R)

Page 147.

HMM을 사용한 NER의 코드를 살펴보자.

<소스>

Page 148.

<소스>

Page 149.

<소스>

Page 150 ~ 153.

<소스>

Page 154.

<소스>

HMM 사용한 NER에 의해 생성된 출력을 평가하는 데 사용되는 파이썬에서 다음 코드를 살펴보자.

Page 155 ~ 163

<소스>

Page 164.




 